appservice-plan:
  app-service-plan:
    - name: "oidc-prod-sp-plan"
      location: "UK West"
      resource_group_name: "oidc-prod-rg"
      sku_name: "P1v3"
      os_type: "Linux"
      tags:
        Team: "DevOps"
        Project: "DevOps OIDC"
        Environment: "Production"

  app-service:
    - name: "oidc-prod-app-service"
      location: "UK West"
      resource_group_name: "oidc-prod-rg"
      service_plan_id: "/subscriptions/8c67470f-7b3b-4cfa-9296-dd120f0da9bf/resourceGroups/oidc-prod-rg/providers/Microsoft.Web/serverFarms/oidc-prod-sp-plan"
      site_config:
        ftps_state: "FtpsOnly"
        always_on: true
        application_stack:
          docker_image_name: "oidc/oidc-webapp:latest"
          docker_registry_url: "https://oidcprodacr001.azurecr.io"

    - name: "oidc-prod-db-service"
      location: "UK West"
      resource_group_name: "oidc-prod-rg"
      service_plan_id: "/subscriptions/8c67470f-7b3b-4cfa-9296-dd120f0da9bf/resourceGroups/oidc-prod-rg/providers/Microsoft.Web/serverFarms/oidc-prod-sp-plan"
      site_config:
        ftps_state: "FtpsOnly"
        always_on: true
        application_stack:
          docker_image_name: "postgres:15-alpine" #"postgres:18-alpine3.22-dev" # Switch to Docker Hardened Image for better security
          docker_registry_url: "https://index.docker.io" #"https://dhi.io"
      
